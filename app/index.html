<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>井字遊戲 - 人機對戰</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 新增：對戰紀錄樣式 */
        #matchHistory { max-width:720px; margin:12px 0; font-family:system-ui,Segoe UI,Helvetica,Arial; }
        #history { border:1px solid #e6e6e6; padding:12px; background:#fff; border-radius:8px; box-shadow:0 1px 3px rgba(16,24,40,0.04); }
        #historyList { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; }
        .history-item { display:flex; justify-content:space-between; gap:12px; align-items:flex-start; padding:10px; border-radius:6px; background:linear-gradient(180deg,#fbfdff,#fff); border:1px solid #f0f4f8; }
        .history-left { display:flex; gap:12px; align-items:center; min-width:0; }
        .history-index { font-weight:600; color:#0f172a; min-width:28px; text-align:center; }
        .history-content { display:flex; flex-direction:column; min-width:0; }
        .history-result { display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px; font-weight:700; color:#fff; }
        .badge-win { background:#10b981; } /* green */
        .badge-lose { background:#ef4444; } /* red */
        .badge-draw { background:#6b7280; } /* gray */
        .history-time { font-size:12px; color:#6b7280; margin-top:4px; }
        .history-details { margin-top:6px; font-size:13px; color:#0f172a; opacity:0.9; word-break:break-word; }
        #history .empty { text-align:center; color:#6b7280; padding:12px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>井字遊戲</h1>
        <div class="game-info">
            <div class="status" id="status">您是 X，輪到您下棋</div>
            <div class="score">
                <span>玩家 (X): <span id="playerScore">0</span></span>
                <span>電腦 (O): <span id="computerScore">0</span></span>
                <span>平手: <span id="drawScore">0</span></span>
            </div>
        </div>
        <div class="board" id="board">
            <div class="cell" data-index="0"></div>
            <div class="cell" data-index="1"></div>
            <div class="cell" data-index="2"></div>
            <div class="cell" data-index="3"></div>
            <div class="cell" data-index="4"></div>
            <div class="cell" data-index="5"></div>
            <div class="cell" data-index="6"></div>
            <div class="cell" data-index="7"></div>
            <div class="cell" data-index="8"></div>
        </div>
        <div class="controls">
            <button id="resetBtn">重新開始</button>
            <button id="resetScoreBtn">重置分數</button>
        </div>
        <div class="difficulty">
            <label for="difficultySelect">難度：</label>
            <select id="difficultySelect">
                <option value="easy">簡單</option>
                <option value="medium" selected>中等</option>
                <option value="hard">困難</option>
            </select>
        </div>
    </div>
    <section id="controls" style="margin:12px 0;">
        <label for="moveDelayInput">移動延遲 (ms):</label>
        <input id="moveDelayInput" type="number" min="0" step="50" style="width:100px;" />
        <button id="setDelayBtn">設定延遲</button>
        <span id="currentDelay" style="margin-left:8px;color:#666;">(目前: — ms)</span>
        &nbsp;&nbsp;
        <button id="clearHistoryBtn">清除紀錄</button>
        <button id="refreshHistoryBtn">重新載入紀錄</button>
    </section>
    <section id="matchHistory" style="margin-top:8px;">
        <h3 style="margin:0 0 8px 0;">對戰紀錄</h3>
        <div id="history" aria-live="polite">
            <!-- renderHistory() 會填入 <ul id="historyList"> ... -->
        </div>
    </section>
    <script src="script.js"></script>
</body>
</html>